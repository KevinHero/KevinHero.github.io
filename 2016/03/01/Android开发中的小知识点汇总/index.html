<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Android小知识库 | 熊凯的个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这份是我工作以来，总结的小知识库，有些知识点现在看来太LOW了，把还觉得有用的分享出来！
Genymotion下载虚拟镜像Connection timeoutAdd new device出现的问题：
Failed to deploy virtual device.Unable to create virtual device.Connection timeout occurred.
解决方案：
当">
<meta property="og:type" content="article">
<meta property="og:title" content="Android小知识库">
<meta property="og:url" content="http://yoursite.com/2016/03/01/Android开发中的小知识点汇总/index.html">
<meta property="og:site_name" content="熊凯的个人博客">
<meta property="og:description" content="这份是我工作以来，总结的小知识库，有些知识点现在看来太LOW了，把还觉得有用的分享出来！
Genymotion下载虚拟镜像Connection timeoutAdd new device出现的问题：
Failed to deploy virtual device.Unable to create virtual device.Connection timeout occurred.
解决方案：
当">
<meta property="og:updated_time" content="2016-04-05T06:42:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android小知识库">
<meta name="twitter:description" content="这份是我工作以来，总结的小知识库，有些知识点现在看来太LOW了，把还觉得有用的分享出来！
Genymotion下载虚拟镜像Connection timeoutAdd new device出现的问题：
Failed to deploy virtual device.Unable to create virtual device.Connection timeout occurred.
解决方案：
当">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://d23.usercdn.com/i/03907/herx4n7dz1po.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">熊凯</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>標籤</li>
						
						<li>友情链接</li>
						
						
						<li>關於</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/categories/随笔">随笔</a></li>
				        
							<li><a href="/categories/技术">技术</a></li>
				        
							<li><a href="/instagram">相册</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="weibo" target="_blank" href="http://weibo.com/1743454163/" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="mailto:camchin1@msn.cn" title="mail">mail</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/ken.shoaw" title="facebook">facebook</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/w_0482" title="twitter">twitter</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Annotation/" style="font-size: 10px;">Annotation</a> <a href="/tags/AsyncTask/" style="font-size: 10px;">AsyncTask</a> <a href="/tags/Binder/" style="font-size: 10px;">Binder</a> <a href="/tags/CountDownTimer/" style="font-size: 10px;">CountDownTimer</a> <a href="/tags/Dialog/" style="font-size: 10px;">Dialog</a> <a href="/tags/EventBus/" style="font-size: 13.33px;">EventBus</a> <a href="/tags/Ibeacon/" style="font-size: 10px;">Ibeacon</a> <a href="/tags/ImageView/" style="font-size: 10px;">ImageView</a> <a href="/tags/Kotlin/" style="font-size: 10px;">Kotlin</a> <a href="/tags/OkHttp/" style="font-size: 13.33px;">OkHttp</a> <a href="/tags/React-Native/" style="font-size: 10px;">React-Native</a> <a href="/tags/ServiceManager/" style="font-size: 10px;">ServiceManager</a> <a href="/tags/String相关类性能测试/" style="font-size: 10px;">String相关类性能测试</a> <a href="/tags/Textview/" style="font-size: 10px;">Textview</a> <a href="/tags/TypedArray/" style="font-size: 10px;">TypedArray</a> <a href="/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/tags/ViewHolder的作用/" style="font-size: 10px;">ViewHolder的作用</a> <a href="/tags/WebView/" style="font-size: 10px;">WebView</a> <a href="/tags/Webview/" style="font-size: 10px;">Webview</a> <a href="/tags/drawable/" style="font-size: 10px;">drawable</a> <a href="/tags/widget/" style="font-size: 10px;">widget</a> <a href="/tags/下拉刷新/" style="font-size: 10px;">下拉刷新</a> <a href="/tags/写作/" style="font-size: 13.33px;">写作</a> <a href="/tags/反思/" style="font-size: 10px;">反思</a> <a href="/tags/图像、背景、View更新、布局、内存/" style="font-size: 13.33px;">图像、背景、View更新、布局、内存</a> <a href="/tags/开发规范/" style="font-size: 16.67px;">开发规范</a> <a href="/tags/异步线程的实现（Looper、MessageQueue、Handler）/" style="font-size: 10px;">异步线程的实现（Looper、MessageQueue、Handler）</a> <a href="/tags/快捷键/" style="font-size: 10px;">快捷键</a> <a href="/tags/总结分类/" style="font-size: 20px;">总结分类</a> <a href="/tags/技术/" style="font-size: 10px;">技术</a> <a href="/tags/时间轴/" style="font-size: 10px;">时间轴</a> <a href="/tags/沉浸式/" style="font-size: 10px;">沉浸式</a> <a href="/tags/源码/" style="font-size: 10px;">源码</a> <a href="/tags/知识库/" style="font-size: 13.33px;">知识库</a> <a href="/tags/科学上网/" style="font-size: 10px;">科学上网</a> <a href="/tags/自定义Loader/" style="font-size: 10px;">自定义Loader</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://wsgzao.github.io/">HelloDog</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.dearzd.com/DBlog/">咚门</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.codingyun.com/">Coding云</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.jobbole.com/">伯乐在线</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">熊凯</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="https://d23.usercdn.com/i/03907/herx4n7dz1po.gif" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">熊凯</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/随笔">随笔</a></li>
		        
					<li><a href="/categories/技术">技术</a></li>
		        
					<li><a href="/instagram">相册</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="weibo" target="_blank" href="http://weibo.com/1743454163/" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="mailto:camchin1@msn.cn" title="mail">mail</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/ken.shoaw" title="facebook">facebook</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/w_0482" title="twitter">twitter</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-Android开发中的小知识点汇总" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/01/Android开发中的小知识点汇总/" class="article-date">
  	<time datetime="2016-02-29T18:33:45.000Z" itemprop="datePublished">2016-03-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android小知识库
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/知识库/">知识库</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/技术/">技术</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这份是我工作以来，总结的小知识库，有些知识点现在看来太LOW了，把还觉得有用的分享出来！</p>
<h3 id="Genymotion_u4E0B_u8F7D_u865A_u62DF_u955C_u50CFConnection_timeout"><a href="#Genymotion_u4E0B_u8F7D_u865A_u62DF_u955C_u50CFConnection_timeout" class="headerlink" title="Genymotion下载虚拟镜像Connection timeout"></a>Genymotion下载虚拟镜像Connection timeout</h3><p>Add new device出现的问题：</p>
<p>Failed to deploy virtual device.<br>Unable to create virtual device.Connection timeout occurred.</p>
<p>解决方案：</p>
<p>当选择Google Nexus 5 - 6.0.0 - API 23 - 1080x1920下载device失败后，到C:\Users\用户主目录\AppData\Local\Genymobile\Genymotion\ova下看到genymotion_vbox86p_6.0_160114_090449.ova，大小却是0KB，在C:\Users\用户主目录\AppData\Local\Genymobile\genymotion.log，打开该文件，找到类似“<a href="http://files2.genymotion.com/dists/6.0.0/ova/genymotion_vbox86p_6.0_160114_090449.ova”路径，即您想要下载的镜像文件URL；" target="_blank" rel="external">http://files2.genymotion.com/dists/6.0.0/ova/genymotion_vbox86p_6.0_160114_090449.ova”路径，即您想要下载的镜像文件URL；</a><br>用迅雷去下载，下载完成后放到C:\Users\用户主目录\AppData\Local\Genymobile\Genymotion\ova；<br>重新点击Google Nexus 5 - 6.0.0 - API 23 - 1080x1920去下载，验证安装后即会显示在设备列表中。<br><a id="more"></a></p>
<h3 id="Android_Studio__u5982_u4F55Debug"><a href="#Android_Studio__u5982_u4F55Debug" class="headerlink" title="Android Studio 如何Debug"></a>Android Studio 如何Debug</h3><p>单击F5(Step Over)，单行一个个方法执行<br>单击F6(Step Into)，单行执行<br>单击F7(Step Out)，不往下执行，回到上一行<br>单击F8(Resume Program)，跳出当前断点</p>
<h3 id="Android_Studio_u8BBE_u7F6E_u9ED8_u8BA4_u7684_u7B7E_u540D_u6587_u4EF6"><a href="#Android_Studio_u8BBE_u7F6E_u9ED8_u8BA4_u7684_u7B7E_u540D_u6587_u4EF6" class="headerlink" title="Android Studio设置默认的签名文件"></a>Android Studio设置默认的签名文件</h3><p>新浪微博SSO登录，微信分享这些都需要签名打包，才能看到效果，设置默认签名文件为自己的签名jks，这样就不需要打包了。<br>在app目录下添加你的.jks，然后app的build.gradle文件中的增加以下内容：<br>第一种：</p>
<pre><code>android {  
    signingConfigs {  
        debug {  
            storeFile file(&quot;你的.jks&quot;)
            storePassword &apos;android&apos;
            keyAlias &apos;android&apos;
            keyPassword &apos;android&apos;
        }          
    }      
}
</code></pre><p>第二种：</p>
<pre><code>android {  
    signingConfigs {  
        release {  
            storeFile file(&quot;你的.jks&quot;)
            storePassword &apos;android&apos;
            keyAlias &apos;android&apos;
            keyPassword &apos;android&apos;
        }          
    }  
    buildTypes {
        debug {
            signingConfig signingConfigs.release
        }        
    }
}
</code></pre><p>这样编译出来的debug版本直接用的是你的正式签名</p>
<h3 id="Fragment_u61D2_u52A0_u8F7D"><a href="#Fragment_u61D2_u52A0_u8F7D" class="headerlink" title="Fragment懒加载"></a>Fragment懒加载</h3><pre><code>protected boolean isVisible;

@Override
public void setUserVisibleHint(boolean isVisibleToUser) {
    super.setUserVisibleHint(isVisibleToUser);
    if (getUserVisibleHint()) {
        isVisible = true;
        onVisible();
    } else {
        isVisible = false;
        onInvisible();
    }
}

protected void onVisible() {
    lazyLoad();
}

protected void lazyLoad() {
    if (!isVisible) {
        return;
    }
    getData();
}

protected void onInvisible() {
}
</code></pre><h3 id="Android_studio_u5934_u6CE8_u91CA_u548C_u65B9_u6CD5_u6CE8_u91CA"><a href="#Android_studio_u5934_u6CE8_u91CA_u548C_u65B9_u6CD5_u6CE8_u91CA" class="headerlink" title="Android studio头注释和方法注释"></a>Android studio头注释和方法注释</h3><blockquote>
<p>File | Settings | Editor|File and Code Templates|Includes|File Header</p>
</blockquote>
<pre><code>/**
* Created by ${USER} on ${DATE}.
*/
</code></pre><p>输入我们想要设置的注释模板</p>
<pre><code>adapter.getPositionForSelection()和getSectionForPosition()
getPositionForSection()根据分类列的索引号获得该序列的首个位置
getSectionForPosition()通过该项的位置，获得所在分类组的索引号

getResources().getColor(R.color.color_name) is deprecated和drawableTop

textView.setTextColor(Color.parseColor(&quot;#FFFFFF&quot;));
//或者
ContextCompat.getColor(context, R.color.color_name)

private void showPopupMenu(View v) {
    final View bgView = View.inflate(DemoApplication.getContext(), R.layout.demo_popup_window_bg, null);
    bgView.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            hidePopupWindow();
        }
    });
    if (mPopupBackground == null) {
        mPopupBackground = new PopupWindow(bgView, ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);
    }
    mPopupBackground.showAtLocation(v, Gravity.BOTTOM, 0, 0);
}
</code></pre><p>v：父布局<br>    demo_popup_window_bg.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:background=&quot;@color/aliwx_common_alpha_black&quot;&gt;

&lt;/LinearLayout&gt;
</code></pre><h3 id="onFinishInflate_28_29"><a href="#onFinishInflate_28_29" class="headerlink" title="onFinishInflate()"></a>onFinishInflate()</h3><p>view的onFinishInflate()何时调用的？</p>
<p>当View中所有的子控件均被映射成xml后触发；</p>
<pre><code>MyView mv = (MyView)View.inflate (context,R.layout.my_view,null);
</code></pre><p>当加载完成xml后，就会执行那个方法；</p>
<p>我们一般使用View的流程是在onCreate中使用setContentView来设置要显示Layout文件或直接创建一个View，在当设置了ContentView之后系统会对这个View进行解析，然后回调当前视图View中的onFinishInflate方法。只有解析了这个View我们才能在这个View容器中获取到拥有Id的组件，同样因为系统解析完View之后才会调用onFinishInflate方法，所以我们自定义组件时可以onFinishInflate方法中获取指定子View的引用。</p>
<h3 id="Fragment_u8BBE_u7F6E_u9690_u85CF_u6216_u663E_u793A_u67D0_u4E2AFragment"><a href="#Fragment_u8BBE_u7F6E_u9690_u85CF_u6216_u663E_u793A_u67D0_u4E2AFragment" class="headerlink" title="Fragment设置隐藏或显示某个Fragment"></a>Fragment设置隐藏或显示某个Fragment</h3><h4 id="MainFragment_u70B9_u51FB"><a href="#MainFragment_u70B9_u51FB" class="headerlink" title="MainFragment点击"></a>MainFragment点击</h4><pre><code>public void onItemClick(AdapterView&lt;?&gt; adapterView, View view,
                            int position, long id) {

        ((MainActivity) getActivity()).showImageFragment(true, mData.get(position).get(&quot;title&quot;).toString(), mData.get(position).get(&quot;imgUrl&quot;).toString());

    }
</code></pre><h4 id="MainActivity"><a href="#MainActivity" class="headerlink" title="MainActivity"></a>MainActivity</h4><pre><code>public void showImageFragment(boolean show, String imgTxt, String imgUrl) {
        // showActionbarWithTabs(!show);
        if (show) {
            getSupportFragmentManager().beginTransaction()
                    .show(imageDetailFragment).commit();
            imageDetailFragment.setImgData(imgTxt, imgUrl);
        } else {
            getSupportFragmentManager().beginTransaction()
                    .hide(imageDetailFragment).commit();
        }

    }
</code></pre><h3 id="u83B7_u53D6arrt_u7684_u503C"><a href="#u83B7_u53D6arrt_u7684_u503C" class="headerlink" title="获取arrt的值"></a>获取arrt的值</h3><p>不同主题下需要把颜色，数值写成attr属性<br>xml里，我们可以简单的引用attr属性值</p>
<pre><code>android:background=&quot;?attr/colorPrimary&quot;
</code></pre><h4 id="u4EE3_u7801_u83B7_u53D6"><a href="#u4EE3_u7801_u83B7_u53D6" class="headerlink" title="代码获取"></a>代码获取</h4><pre><code>TypedValue typedValue = new TypedValue();
mContext.getTheme().resolveAttribute(R.attr.colorPrimary, typedValue, true);
int colorPrimary = typedValue.data;//value.data里面存储着的就是获取到的colorPrimary的值
</code></pre><h3 id="u62E8_u53F7_u76D8_u62E8_u6253_u7535_u8BDD"><a href="#u62E8_u53F7_u76D8_u62E8_u6253_u7535_u8BDD" class="headerlink" title="拨号盘拨打电话"></a>拨号盘拨打电话</h3><pre><code>Intent intent = new Intent(Intent.ACTION_CALL,
Uri.parse(&quot;tel:&quot; + &quot;400-036-1977&quot;));
// intent.setAction(Intent.ACTION_CALL);// 直接拨号
intent.setAction(Intent.ACTION_DIAL);// 拨号盘
startActivity(intent);
</code></pre><h3 id="Drawable_/Bitmap_u3001String/InputStream_u3001Bitmap/byte_5B_5D_u4E92_u8F6C"><a href="#Drawable_/Bitmap_u3001String/InputStream_u3001Bitmap/byte_5B_5D_u4E92_u8F6C" class="headerlink" title="Drawable /Bitmap、String/InputStream、Bitmap/byte[]互转"></a>Drawable /Bitmap、String/InputStream、Bitmap/byte[]互转</h3><pre><code>http://wuxiaolong.me/2015/08/10/Drawable-to-Bitmap/
</code></pre><h3 id="ProgressDialog"><a href="#ProgressDialog" class="headerlink" title="ProgressDialog"></a>ProgressDialog</h3><pre><code>final ProgressDialog progress = new ProgressDialog(LoginActivity.this);
        progress.setMessage(&quot;请稍等...&quot;);
        progress.setCanceledOnTouchOutside(false);
        progress.show();
progress.dismiss();
</code></pre><h3 id="u6BEB_u79D2"><a href="#u6BEB_u79D2" class="headerlink" title="毫秒"></a>毫秒</h3><p>毫秒Calendar.getInstance().getTimeInMillis()和System.currentTimeMillis()</p>
<h3 id="Fragment_setUserVisibleHint_28boolean_isVisibleToUser_29"><a href="#Fragment_setUserVisibleHint_28boolean_isVisibleToUser_29" class="headerlink" title="Fragment setUserVisibleHint(boolean isVisibleToUser)"></a>Fragment setUserVisibleHint(boolean isVisibleToUser)</h3><pre><code>@Override
public void setUserVisibleHint(boolean isVisibleToUser) {
    super.setUserVisibleHint(isVisibleToUser);
    if (isVisibleToUser) {
        //相当于Fragment的onResume
    } else {
        //相当于Fragment的onPause
    }
}
</code></pre><h3 id="Fragment_onActivityResult"><a href="#Fragment_onActivityResult" class="headerlink" title="Fragment onActivityResult"></a>Fragment onActivityResult</h3><pre><code>public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        getActivity();
        if (resultCode == Activity.RESULT_OK
                &amp;&amp; requestCode == AppUtils.REQUEST_CODE_ISLOGIN) {
            // 检查是否完善资料

            if (AppUtils.getSharedPreferences(getActivity()).getBoolean(
                    &quot;hasPersonalData&quot;, false)) {
                // 取本地存取是否完善资料,完善直接提示咨询对话框
                consultationDialog();
            } else {
                getCheckPersonalData();
            }

        }
    } 

startActivityForResult(intent,AppConfig.REQUEST_CODE_DIALOGUE);// 不是调用 getActivity().startActivityForResult()。
</code></pre><h3 id="dimen_u4EE3_u7801_u53D6_u503C"><a href="#dimen_u4EE3_u7801_u53D6_u503C" class="headerlink" title="dimen代码取值"></a>dimen代码取值</h3><p>getDimension方法获取到资源文件中定义的dimension值。</p>
<pre><code>Resources res = getResources();
float fontSize = res.getDimension(R.dimen.font_size);
</code></pre><h3 id="u6570_u7EC4_u521D_u59CB_u5316_u8D4B_u503C"><a href="#u6570_u7EC4_u521D_u59CB_u5316_u8D4B_u503C" class="headerlink" title="数组初始化赋值"></a>数组初始化赋值</h3><p>1、创建数组后，通过循环对数组赋值。<br>例如代码：</p>
<pre><code>int [] nums = new int [100];
for(int i=0;i&lt;10;i++){
nums[i] = i;
}
</code></pre><p>2、例如代码：</p>
<pre><code>int [] nums = {0,1,2,3,4,5,6,7,8,9};
</code></pre><p>3、</p>
<pre><code>int [] nums = new int[]{0,1,2,3,4,5,6,7,8,9};
</code></pre><h3 id="Fragment-isAdded_28_29"><a href="#Fragment-isAdded_28_29" class="headerlink" title="Fragment.isAdded()"></a>Fragment.isAdded()</h3><pre><code>Fragment mBeforeFragment = new Fragment();
public void switchFragment(Fragment currentFragment) {
if (currentFragment.isAdded()) {
getSupportFragmentManager().beginTransaction().hide(mBeforeFragment).show(currentFragment).commit();
} else {
getSupportFragmentManager().beginTransaction().hide(mBeforeFragment).add(R.id.container, currentFragment).commit();
}
mBeforeFragment = currentFragment;
}
</code></pre><p>调用：</p>
<pre><code>switchFragment(HomeFragment.newInstance());
HomeFragment


public static HomeFragment homeFragment = null;

public static HomeFragment newInstance() {
if (homeFragment == null) {
homeFragment = new HomeFragment();
}
return homeFragment;
}
</code></pre><h3 id="android_u4E4BinputType_u5C5E_u6027"><a href="#android_u4E4BinputType_u5C5E_u6027" class="headerlink" title="android之inputType属性"></a>android之inputType属性</h3><pre><code>&lt;EditText android:layout_width=&quot;fill_parent&quot; 
android:layout_height=&quot;wrap_content&quot; 
android:inputType=&quot;phone&quot; /&gt;
</code></pre><p>//文本类型，多为大写、小写和数字符号。</p>
<pre><code>android:inputType=&quot;none&quot;
android:inputType=&quot;text&quot;
android:inputType=&quot;textCapCharacters&quot; 字母大写
android:inputType=&quot;textCapWords&quot; 首字母大写
android:inputType=&quot;textCapSentences&quot; 仅第一个字母大写
android:inputType=&quot;textAutoCorrect&quot; 自动完成
android:inputType=&quot;textAutoComplete&quot; 自动完成
android:inputType=&quot;textMultiLine&quot; 多行输入
android:inputType=&quot;textImeMultiLine&quot; 输入法多行（如果支持）
android:inputType=&quot;textNoSuggestions&quot; 不提示
android:inputType=&quot;textUri&quot; 网址
android:inputType=&quot;textEmailAddress&quot; 电子邮件地址
android:inputType=&quot;textEmailSubject&quot; 邮件主题
android:inputType=&quot;textShortMessage&quot; 短讯
android:inputType=&quot;textLongMessage&quot; 长信息
android:inputType=&quot;textPersonName&quot; 人名
android:inputType=&quot;textPostalAddress&quot; 地址
android:inputType=&quot;textPassword&quot; 密码
android:inputType=&quot;textVisiblePassword&quot; 可见密码
android:inputType=&quot;textWebEditText&quot; 作为网页表单的文本
android:inputType=&quot;textFilter&quot; 文本筛选过滤
android:inputType=&quot;textPhonetic&quot; 拼音输入
</code></pre><p>//数值类型</p>
<pre><code>android:inputType=&quot;number&quot; 数字
android:inputType=&quot;numberSigned&quot; 带符号数字格式
android:inputType=&quot;numberDecimal&quot; 带小数点的浮点格式
android:inputType=&quot;phone&quot; 拨号键盘
android:inputType=&quot;datetime&quot; 时间日期
android:inputType=&quot;date&quot; 日期键盘
android:inputType=&quot;time&quot; 时间键盘
</code></pre><h3 id="ImageView-ScaleType"><a href="#ImageView-ScaleType" class="headerlink" title="ImageView.ScaleType"></a>ImageView.ScaleType</h3><pre><code>（1）ImageView.ScaleType.center:图片位于视图中间，但不执行缩放。
（2）ImageView.ScaleType.CENTER_CROP 按统一比例缩放图片（保持图片的尺寸比例）便于图片的两维（宽度和高度）等于或者大于相应的视图的维度
（3）ImageView.ScaleType.CENTER_INSIDE按统一比例缩放图片（保持图片的尺寸比例）便于图片的两维（宽度和高度）等于或者小于相应的视图的维度
（4）ImageView.ScaleType.FIT_CENTER缩放图片使用center
（5）ImageView.ScaleType.FIT_END缩放图片使用END
（6）ImageView.ScaleType.FIT_START缩放图片使用START
（7）ImageView.ScaleType.FIT_XY缩放图片使用XY
（8）ImageView.ScaleType.MATRIX当绘制时使用图片矩阵缩放
</code></pre><h3 id="u8C03_u7528_u7CFB_u7EDF_u53D1_u9001_u77ED_u4FE1_u754C_u9762"><a href="#u8C03_u7528_u7CFB_u7EDF_u53D1_u9001_u77ED_u4FE1_u754C_u9762" class="headerlink" title="调用系统发送短信界面"></a>调用系统发送短信界面</h3><pre><code>/**
* 发送短信
* @param smsBody
*/
private void sendSMS(String smsBody)
{
//Uri smsToUri = Uri.parse(&quot;smsto:10000&quot;); //如果想指定发送人
Uri smsToUri = Uri.parse(&quot;smsto:&quot;);
Intent intent = new Intent(Intent.ACTION_SENDTO, smsToUri);
intent.putExtra(&quot;sms_body&quot;, smsBody);
startActivity(intent);
}
</code></pre><h3 id="u8DF3_u8F6C_u5E02_u573A_u641C_u7D22_u67D0_u6B3E_u8F6F_u4EF6"><a href="#u8DF3_u8F6C_u5E02_u573A_u641C_u7D22_u67D0_u6B3E_u8F6F_u4EF6" class="headerlink" title="跳转市场搜索某款软件"></a>跳转市场搜索某款软件</h3><pre><code>Intent intent = new Intent(
                &quot;android.intent.action.VIEW&quot;);
        intent.setData(Uri
                .parse(&quot;market://details?id=com.adobe.flashplayer&quot;));
        startActivity(intent);
</code></pre><h3 id="u68C0_u6D4B_u7CFB_u7EDF_u4E2D_u662F_u5426_u5B89_u88C5_u67D0_u6B3E_u8F6F_u4EF6"><a href="#u68C0_u6D4B_u7CFB_u7EDF_u4E2D_u662F_u5426_u5B89_u88C5_u67D0_u6B3E_u8F6F_u4EF6" class="headerlink" title="检测系统中是否安装某款软件"></a>检测系统中是否安装某款软件</h3><pre><code>//检测系统中是否已经安装了adobe flash player插件，插件的packageName是com.adobe.flashplayer：
private boolean check() {
        PackageManager pm = getPackageManager();
        List&lt;PackageInfo&gt; infoList = pm
                .getInstalledPackages(PackageManager.GET_SERVICES);
        for (PackageInfo info : infoList) {
            if (&quot;com.adobe.flashplayer&quot;.equals(info.packageName)) {
                return true;
            }
        }
        return false;
}

private void isAvilible(String packageName) {

        PackageInfo packageInfo;
        try {
            packageInfo = this.getPackageManager().getPackageInfo(packageName,
                    0);

        } catch (NameNotFoundException e) {
            packageInfo = null;
            e.printStackTrace();
        }
        if (packageInfo != null) {

        //1、通过包名
        Intent intent = new Intent();
        intent = getPackageManager().getLaunchIntentForPackage(packageName);
        startActivity(intent);

        //2、通过类名： 
        Intent intent=new Intent();  
        intent.setComponent(new ComponentName(packageName, &quot;com.joe.internet.Main&quot;));  
        startActivity(intent);  
            } 

        }
</code></pre><h3 id="u5BF9_u8BDD_u6846_u83DC_u5355"><a href="#u5BF9_u8BDD_u6846_u83DC_u5355" class="headerlink" title="对话框菜单"></a>对话框菜单</h3><pre><code>new AlertDialog.Builder(this)
                    .setTitle(&quot;choice&quot;)
                    .setItems(new String[] { &quot;选择1&quot;, &quot;选择2&quot;, &quot;选择3&quot;, &quot;选择4&quot; },
                            new DialogInterface.OnClickListener() {

                                @Override
                                public void onClick(DialogInterface dialog,
                                        int which) {
                                    Toast.makeText(MyContentActivity.this,
                                            which + &quot;&quot;, Toast.LENGTH_SHORT)
                                            .show();

                                }
                            }).show();
</code></pre><h3 id="u5B9A_u4E49ProgressBar"><a href="#u5B9A_u4E49ProgressBar" class="headerlink" title="定义ProgressBar"></a>定义ProgressBar</h3><pre><code>&lt;ProgressBar
        android:id=&quot;@+id/mProgress&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;          
        android:indeterminateDrawable=&quot;@drawable/progress_rotate&quot; /&gt;
</code></pre><p>progress_rotate：</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;
    &lt;item&gt;
        &lt;rotate
            android:drawable=&quot;@drawable/progressbar&quot;
            android:duration=&quot;300&quot;
            android:fromDegrees=&quot;0.0&quot;
            android:pivotX=&quot;50.0%&quot;
            android:pivotY=&quot;50.0%&quot;
            android:toDegrees=&quot;360.0&quot; /&gt;
    &lt;/item&gt;
&lt;/layer-list&gt;
</code></pre><h3 id="u5E7B_u706F_u7247_u6548_u679C"><a href="#u5E7B_u706F_u7247_u6548_u679C" class="headerlink" title="幻灯片效果"></a>幻灯片效果</h3><p>xml</p>
<pre><code>&lt;ProgressBar
        android:id=&quot;@+id/ProgressBar01&quot;
        style=&quot;@style/animStyle&quot;
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;fill_parent&quot;
        android:layout_centerInParent=&quot;true&quot; /&gt;
</code></pre><p>style</p>
<pre><code>&lt;style name=&quot;animStyle&quot; parent=&quot;@android:style/Widget.ProgressBar.Large&quot;&gt;
        &lt;item name=&quot;android:indeterminateDrawable&quot;&gt;@anim/test&lt;/item&gt;
&lt;/style&gt;
</code></pre><p>anim</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:oneshot=&quot;false&quot; &gt;

    &lt;item
        android:drawable=&quot;@drawable/t1&quot;
        android:duration=&quot;500&quot;/&gt;
    &lt;item
        android:drawable=&quot;@drawable/t2&quot;
        android:duration=&quot;500&quot;/&gt;
    &lt;item
        android:drawable=&quot;@drawable/t3&quot;
        android:duration=&quot;500&quot;/&gt;
    &lt;item
        android:drawable=&quot;@drawable/t4&quot;
        android:duration=&quot;500&quot;/&gt;
    &lt;item
        android:drawable=&quot;@drawable/t5&quot;
        android:duration=&quot;500&quot;/&gt;

&lt;/animation-list&gt;
</code></pre><h3 id="MD5_u52A0_u5BC6"><a href="#MD5_u52A0_u5BC6" class="headerlink" title="MD5加密"></a>MD5加密</h3><pre><code>public String Md5(String plainText) {
        String result = &quot;&quot;;
        try {
            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);
            md.update(plainText.getBytes());
            byte b[] = md.digest();

            int i;

            StringBuffer buf = new StringBuffer(&quot;&quot;);
            for (int offset = 0; offset &lt; b.length; offset++) {
                i = b[offset];
                if (i &lt; 0)
                    i += 256;
                if (i &lt; 16)
                    buf.append(&quot;0&quot;);
                buf.append(Integer.toHexString(i));
            }
            result = buf.toString().toUpperCase();// 32位的加密（转成大写）

            buf.toString().substring(8, 24);// 16位的加密

        } catch (NoSuchAlgorithmException e) {
            e.printStackTrace();
        }
        return result;
    }
</code></pre><h3 id="u8BBE_u7F6E_u81EA_u52A8_u8DF3_u8F6C_u9875_u9762"><a href="#u8BBE_u7F6E_u81EA_u52A8_u8DF3_u8F6C_u9875_u9762" class="headerlink" title="设置自动跳转页面"></a>设置自动跳转页面</h3><p>Timer</p>
<pre><code>Timer timer = new Timer();
        timer.schedule(new TimerTask() {
            @Override
            public void run() {
                // TODO Auto-generated method stub
                Intent goIntent = new Intent();
                goIntent.setClass(LauncherActivity.this, DemoActivity.class);
                startActivity(goIntent);
            }
        }, 3 * 1000);
    }
</code></pre><h3 id="Handler"><a href="#Handler" class="headerlink" title="Handler"></a>Handler</h3><pre><code>new Handler().postDelayed(new Runnable() {
            @Override
            public void run() {
                startActivity(new Intent(SplashScreen.this,
                        DomobSampleActivity.class));
                finish();
            }
        }, 1000);
</code></pre><h3 id="u968F_u673A_u53D6_u6570"><a href="#u968F_u673A_u53D6_u6570" class="headerlink" title="随机取数"></a>随机取数</h3><pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();
        for (int i = 0; i &lt; 10; i++) {
            list.add(i);
        }
        Collections.shuffle(list);
        for (int v : list) {
            Log.d(&quot;wxl&quot;, &quot;V===&quot; + v);
        }
</code></pre><p>或：</p>
<pre><code>Random random = new Random();
int ran = random.nextInt(keywordsList.size());
String tmp = keywordsList.get(ran).get(&quot;keyword&quot;).toString();
</code></pre><h3 id="selector_u4E0B_u7684_u5C5E_u6027_u503C"><a href="#selector_u4E0B_u7684_u5C5E_u6027_u503C" class="headerlink" title="selector下的属性值"></a>selector下的属性值</h3><pre><code>android:state_pressed
如果是true，当被点击时显示该图片，如果是false没被按下时显示默认。
android:state_focused
true，获得焦点时显示；false，没获得焦点显示默认。
android:state_selected
true，当被选择时显示该图片；false，当未被选择时显示该图片。
android:state_checkable
true，当 能使用时显示该图片；false，当CheckBox不能使用时显示该图片。
android:state_checked
true，当CheckBox选中时显示该图片；false，当CheckBox为选中时显示该图片。
android:state_enabled
true，当该组件能使用时显示该图片；false，当该组件不能使用时显示该图片。
android:state_window_focused
true，当此activity获得焦点在最前面时显示该图片；false，当没在最前面时显示该图片。


&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;item android:state_pressed=&quot;true&quot;
        android:drawable=&quot;@drawable/button_pressed&quot;/&gt;&lt;!-- pressed --&gt;
    &lt;item android:state_focused=&quot;true&quot;
        android:drawable=&quot;@drawable/button_focused&quot;/&gt;&lt;!-- focused --&gt;
    &lt;item android:drawable=&quot;@drawable/button_normal&quot;/&gt;&lt;!-- default --&gt;
&lt;/selector&gt;
</code></pre><h3 id="u5E26_u4E0B_u5212_u7EBF_u7684EditText"><a href="#u5E26_u4E0B_u5212_u7EBF_u7684EditText" class="headerlink" title="带下划线的EditText"></a>带下划线的EditText</h3><pre><code>public class LinedEditText extends EditText {
    private Paint linePaint;
    private float margin;
    private int paperColor;

    public LinedEditText(Context paramContext, AttributeSet paramAttributeSet) {
        super(paramContext, paramAttributeSet);
        this.linePaint = new Paint();
    }
    @Override
    protected void onDraw(Canvas paramCanvas) {
        paramCanvas.drawColor(this.paperColor);
        int i = getLineCount();// 得到总的行數
        int j = getHeight();// 获得TextView的高度
        int k = getLineHeight();// 获得TextView的行高
        int m = j / k + 1;// 总的线数
        if (i &lt; m)
            i = m;
        int n = getCompoundPaddingTop();
        Log.d(&quot;wxl&quot;, &quot;n----&quot; + n);
        paramCanvas.drawLine(0.0F, n, getRight(), n, this.linePaint);
        for (int i2 = 0;; i2++) {
            if (i2 &gt;= i) {
                setPadding(10 + (int) this.margin, 0, 0, 0);
                super.onDraw(paramCanvas);
                paramCanvas.restore();
                return;
            }
            n += k;
            paramCanvas.drawLine(0.0F, n, getRight(), n, this.linePaint);
            paramCanvas.save();
        }
    }
}
</code></pre><p>主要工作就是重载onDraw方法，利用从TextView继承下来的getLineCount函数获取文本所占的行数，以及getLineBounds来获取特定行的基准高度值，而且这个函数第二个参数会返回此行的“外包装”值。再利用这些值绘制这一行的线条。为了让界面的View使用自定义的EditText类，必须在配置文件中进行设置</p>
<h3 id="u5173_u95ED_u952E_u76D8"><a href="#u5173_u95ED_u952E_u76D8" class="headerlink" title="关闭键盘"></a>关闭键盘</h3><pre><code>public static void hideSoftInput(Activity activity) {
        if (activity.getCurrentFocus() != null)
            ((InputMethodManager) activity
                    .getSystemService(Context.INPUT_METHOD_SERVICE))
                    .hideSoftInputFromWindow(activity.getCurrentFocus()
                            .getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
    }
</code></pre><p>界面不被弹出的键盘盖住<br>一进入activity就弹出键盘</p>
<pre><code>android:windowSoftInputMode=&quot;adjustResize&quot; 
android:windowSoftInputMode=&quot;adjustPan|stateAlwaysVisible&quot;
</code></pre><p>第一个软键盘和输入框会完全分离，而第二个输入框还是会被软键盘盖住一点点<br>而且第二个要把两个属性叠加起来，为什么要叠加起来呢，因为如果只用adjustPan 的话需要点击输入框才会弹出软键盘</p>
<p>在 AndroidMainfest.xml中选择哪个activity，设置windowSoftInputMode属性为</p>
<pre><code>adjustUnspecified|stateHidden
android:windowSoftInputMode=&quot;adjustUnspecified|stateHidden&quot;
</code></pre><h3 id="windowSoftInputMode_u5404_u503C_u7684_u542B_u4E49_uFF1A"><a href="#windowSoftInputMode_u5404_u503C_u7684_u542B_u4E49_uFF1A" class="headerlink" title="windowSoftInputMode各值的含义："></a>windowSoftInputMode各值的含义：</h3><pre><code>stateUnspecified：软键盘的状态并没有指定，系统将选择一个合适的状态或依赖于主题的设置
stateUnchanged：当这个activity出现时，软键盘将一直保持在上一个activity里的状态，无论是隐藏还是显示
stateHidden：用户选择activity时，软键盘总是被隐藏
stateAlwaysHidden：当该Activity主窗口获取焦点时，软键盘也总是被隐藏的
stateVisible：软键盘通常是可见的
stateAlwaysVisible：用户选择activity时，软键盘总是显示的状态
adjustUnspecified：默认设置，通常由系统自行决定是隐藏还是显示
adjustResize：该Activity总是调整屏幕的大小以便留出软键盘的空间
adjustPan：当前窗口的内容将自动移动以便当前焦点从不被键盘覆盖和用户能总是看到输入内容的部分
</code></pre><h3 id="u63A7_u4EF6_u7F8E_u5316Shape"><a href="#u63A7_u4EF6_u7F8E_u5316Shape" class="headerlink" title="控件美化Shape"></a>控件美化Shape</h3><p><a href="http://wuxiaolong.me/2013/07/09/shape/" target="_blank" rel="external">http://wuxiaolong.me/2013/07/09/shape/</a></p>
<h3 id="u83B7_u53D6_u7248_u672C_u540D_u79F0_VersionName"><a href="#u83B7_u53D6_u7248_u672C_u540D_u79F0_VersionName" class="headerlink" title="获取版本名称 VersionName"></a>获取版本名称 VersionName</h3><pre><code>public String getVersionName(Context context) {
        PackageManager manager = context.getPackageManager();
        String packageName = context.getPackageName();
        try {
            PackageInfo info = manager.getPackageInfo(packageName, 0);
            return info.versionName;
        } catch (NameNotFoundException e) {
            return &quot;1.0&quot;;
        }
    }
</code></pre><h3 id="u83B7_u53D6Android_u624B_u673A_u8BBE_u5907_u7684IMSI_/_IMEI__u4FE1_u606F"><a href="#u83B7_u53D6Android_u624B_u673A_u8BBE_u5907_u7684IMSI_/_IMEI__u4FE1_u606F" class="headerlink" title="获取Android手机设备的IMSI / IMEI 信息"></a>获取Android手机设备的IMSI / IMEI 信息</h3><pre><code>TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
String imsi = mTelephonyMgr.getSubscriberId(); 
String imei = mTelephonyMgr.getDeviceId(); 
Log.i(&quot;wxl&quot;, &quot;imsi=&quot;+imsi);为null
Log.i(&quot;wxl&quot;, &quot;imei=&quot;+imei); 
</code></pre><p> 另外不要忘了在AndroidManifest.xml中加上读取手机状态的权限</p>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;
</code></pre><h3 id="u81EA_u5B9A_u4E49Log_u662F_u5426_u663E_u793A"><a href="#u81EA_u5B9A_u4E49Log_u662F_u5426_u663E_u793A" class="headerlink" title="自定义Log是否显示"></a>自定义Log是否显示</h3><pre><code>public class Log {
    private static final String TAG = &quot;wxl&quot;;
    private static final boolean LOG = true;
    public static void i(String msg) {
        if (LOG)
            android.util.Log.i(TAG , msg);
    }
    public static void d(String msg) {
        if (LOG)
            android.util.Log.d(TAG , msg);
    }
    public static void w(String msg) {
        if (LOG)
            android.util.Log.w(TAG , msg);
    }
    public static void w(String msg, Throwable throwable) {
        if (LOG)
            android.util.Log.w(TAG , msg, throwable);
    }
    public static void v(String msg) {
        if (LOG)
            android.util.Log.v(TAG , msg);
    }
    public static void e(String msg) {
        android.util.Log.e(TAG , msg);
    }
    public static void e(String msg, Throwable throwable) {
        android.util.Log.e(TAG , msg, throwable);
    }
}
</code></pre><h3 id="u5F02_u6B65_u64CD_u4F5CAsyncTask"><a href="#u5F02_u6B65_u64CD_u4F5CAsyncTask" class="headerlink" title="异步操作AsyncTask"></a>异步操作AsyncTask</h3><pre><code>//参数1：向后台任务的执行方法传递参数的类型 ； 
//参数2：在后台任务执行过程中，要求主UI线程处理中间状态，通常是一些UI处理中传递的参数类型；
//参数3：后台任务执行完返回时的参数类型。
private class MyAsyncTask extends AsyncTask&lt;Integer, String, Void&gt; {

        // 实现抽象方法doInBackground()，代码将在后台线程中执行，由execute()触发
        protected Void doInBackground(Integer... params) {
            return null;
        }

        // 任务启动，可以在这里显示一个对话框，这里简单处理
        protected void onPreExecute() {
            super.onPreExecute();
        }

        // 取消
        protected void onCancelled() {
            super.onCancelled();
        }

        // 定义后台进程执行完后的处理
        protected void onPostExecute(Void result) {
            super.onPostExecute(result);
            Toast.makeText(MainActivity.this, &quot;OK&quot;, Toast.LENGTH_SHORT).show();
        }

        // 更新进度,在UI主线程执行的内容，将item加入list中。方法中的参数为范式方式，实质为数组，由于我们只传递了item一个String，要获取，为values[0]
        protected void onProgressUpdate(String... values) {
            super.onProgressUpdate(values);
        }

    }
</code></pre><p>调用：</p>
<pre><code>new MyAsyncTask().execute(参数1);// 创建后台任务的对象
</code></pre><p>检查网络状态</p>
<pre><code>public boolean checkNetworkInfo() {
        ConnectivityManager conMan = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
        // mobile 3G Data Network
        State mobile = conMan.getNetworkInfo(ConnectivityManager.TYPE_MOBILE)
                .getState();
        // wifi
        State wifi = conMan.getNetworkInfo(ConnectivityManager.TYPE_WIFI)
                .getState();
        // 如果3G网络和wifi网络都未连接，且不是处于正在连接状态 则进入Network Setting界面 由用户配置网络连接
        if (mobile == State.CONNECTED || mobile == State.CONNECTING)
            return true;
        if (wifi == State.CONNECTED || wifi == State.CONNECTING)
            return true;
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setMessage(getResources().getString(R.string.no_network))
                .setCancelable(false)
                .setPositiveButton(
                        getResources().getString(R.string.configuration),
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog, int id) {

                                // 进入无线网络配置界面
                                startActivity(new Intent(
                                        Settings.ACTION_WIRELESS_SETTINGS));
                                MainActivity.this.finish();
                            }
                        })
                .setNegativeButton(getResources().getString(R.string.quit),
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog, int id) {
                                MainActivity.this.finish();
                            }
                        });
        builder.show();
        return false;
    }
</code></pre><p>代码判断调用：</p>
<pre><code>// 检查网络状态
if (!checkNetworkInfo()) {
    return;
}
</code></pre><h3 id="u8BA9_u6570_u636E_u63A5_u53D7_u7F51_u9875_u7684_u683C_u5F0F"><a href="#u8BA9_u6570_u636E_u63A5_u53D7_u7F51_u9875_u7684_u683C_u5F0F" class="headerlink" title="让数据接受网页的格式"></a>让数据接受网页的格式</h3><pre><code>Html.fromHtml（）

URLEncoder.encode(String s); 网址请求中文解析
&amp;#8230;代表省略号
URLEncoder.encode
网址请求带中文

URLEncoder.encode(content, &quot;utf-8&quot;)
</code></pre><p>Android中字体加粗<br>在xml文件中使用</p>
<pre><code>android:textStyle=”bold”
</code></pre><p>Java 代码<br>（网上查XML不能将中文设置成粗体，只能通过Java code。Android 2.2 可以通过XML将中文设置成粗体）</p>
<pre><code>TextView tv = (TextView)findViewById(R.id.TextView01); 
TextPaint tp = tv.getPaint();
tp.setFakeBoldText(true);
Html.fromHtml(“\&lt;\b&gt;”)


(1)viewHolder.title.setText(Html.fromHtml(&quot;&lt;b&gt;&quot;+ listTitle.get(position).get(&quot;title&quot;) + &quot;&lt;/b&gt;&quot;));
(2)TextView.setText(Html.fromHtml(&quot;&lt;font color=#FF0000&gt;hello&lt;/font&gt;&quot;));
</code></pre><h3 id="u4EE3_u7801_u8BBE_u7F6E_u80CC_u666F_u56FEsetImageResource/setBackgroundResource"><a href="#u4EE3_u7801_u8BBE_u7F6E_u80CC_u666F_u56FEsetImageResource/setBackgroundResource" class="headerlink" title="代码设置背景图setImageResource/setBackgroundResource"></a>代码设置背景图setImageResource/setBackgroundResource</h3><pre><code>textView.setBackgroundResource(R.drawable.bg_menu_1);设置背景图片
textView.setBackgroundColor(0xffffffff);
setImageResource與xml中的src的屬性才是相匹配的，而setBackgroundResource是與xml中的background屬性相匹配
的
holder.chat_sound_iv_right.setBackgroundResource(0);//没有图片
</code></pre><h3 id="android_u4E2D_u7684ellipsize"><a href="#android_u4E2D_u7684ellipsize" class="headerlink" title="android中的ellipsize"></a>android中的ellipsize</h3><p>用法如下：<br>在xml中</p>
<pre><code>android:ellipsize = &quot;end&quot;　　  省略号在结尾
android:ellipsize = &quot;start&quot; 　　省略号在开头
android:ellipsize = &quot;middle&quot;     省略号在中间
android:ellipsize = &quot;marquee&quot;  跑马灯
</code></pre><p>最好加一个约束android:singleline = “true”<br>跑马灯</p>
<pre><code>android:singleLine=&quot;true&quot;
android:ellipsize=&quot;marquee&quot;
android:focusableInTouchMode=&quot;true&quot;
android:focusable=&quot;true&quot;
android:marqueeRepeatLimit=&quot;marquee_forever&quot;
android:singleLine=true 表示使用单行文字，多行文字也就无所谓使用Marquee效果了。
android:marqueeRepeatLimit，设置走马灯滚动的次数。
android:ellipsize，设置了文字过长时如何切断文字，可以有none, start,middle, end, 如果使用走马灯效果则设为marquee.
android:focusable，Android的缺省行为是在控件获得Focus时才会显示走马灯效果
</code></pre><p>###控件点击效果</p>
<pre><code>&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;item android:state_focused=&quot;true&quot; android:state_pressed=&quot;false&quot; android:drawable=&quot;@drawable/professional_1&quot;/&gt;
    &lt;item android:state_focused=&quot;false&quot; android:state_pressed=&quot;true&quot; android:drawable=&quot;@drawable/professional_1&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/professional&quot;/&gt;
&lt;/selector&gt;
</code></pre><p>###保留小数点<br>方法一：</p>
<pre><code>private DecimalFormat df;
df = new DecimalFormat(&quot;0.0&quot;);
float data;
df.format(data);//返回值
</code></pre><p>方法二：</p>
<pre><code>double juli = 1569;
String result = String.format(&quot;%.1f&quot;, juli/1000);
</code></pre><h3 id="RadioGroup"><a href="#RadioGroup" class="headerlink" title="RadioGroup"></a>RadioGroup</h3><pre><code>&lt;RadioGroup
    android:layout_width=&quot;wrap_content&quot;
    android:layout_height=&quot;wrap_content&quot;
    android:orientation=&quot;vertical&quot; &gt;

    &lt;RadioButton
        android:id=&quot;@+id/open&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginLeft=&quot;10dip&quot;
        android:layout_marginTop=&quot;10dip&quot;
        android:button=&quot;@drawable/radiobutton&quot;
        android:checked=&quot;true&quot;
        android:text=&quot;@string/open_album&quot;
        android:textColor=&quot;#000000&quot;
        android:textSize=&quot;16dip&quot; /&gt;

    &lt;RadioButton
        android:id=&quot;@+id/secrecy&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginLeft=&quot;10dip&quot;
        android:button=&quot;@drawable/radiobutton&quot;
        android:text=&quot;@string/secrecy_album&quot;
        android:textColor=&quot;#000000&quot;
        android:textSize=&quot;16dip&quot; /&gt;
&lt;/RadioGroup&gt;
</code></pre><p>android:button=”@null” 去除RadioButton前面的圆点<br>android:background=”@drawable/radio” 使用定义的样式</p>
<h3 id="u5360_u4F4D_u7B26_25s_u66FF_u6362"><a href="#u5360_u4F4D_u7B26_25s_u66FF_u6362" class="headerlink" title="占位符%s替换"></a>占位符%s替换</h3><pre><code>%d （表示整数）
%f （表示浮点数）
%s （表示字符串）
</code></pre><p>txt.setText(String.format (“被替换%1$s”,”替换内容”));</p>
<h3 id="TextView_u4E2D_u5D4C_u5957_u56FE_u7247Drawable"><a href="#TextView_u4E2D_u5D4C_u5957_u56FE_u7247Drawable" class="headerlink" title="TextView中嵌套图片Drawable"></a>TextView中嵌套图片Drawable</h3><pre><code>Drawable drawable = getResources().getDrawable(R.drawable.ji_dot_nor);
drawable.setBounds(0, 0, drawable.getIntrinsicWidth(),drawable.getIntrinsicHeight());
textView.setCompoundDrawablesWithIntrinsicBounds(null, drawable, null, null); 
</code></pre><p>说明：<code>setCompoundDrawablesWithIntrinsicBounds(left, top, right, bottom)</code><br>意思是设置Drawable显示在text的左、上、右、下位置。(Textview、Button都可以)</p>
<p>TextView做成分割线</p>
<pre><code>&lt;TextView
    android:id=&quot;@id/textView2&quot;
    android:layout_width=&quot;fill_parent&quot;
    android:layout_height=&quot;2.0px&quot;
android:background=&quot;@color/orange&quot; /&gt;
</code></pre><h3 id="SpannableString_u5355_u51FB_u6587_u5B57_u94FE_u63A5"><a href="#SpannableString_u5355_u51FB_u6587_u5B57_u94FE_u63A5" class="headerlink" title="SpannableString单击文字链接"></a>SpannableString单击文字链接</h3><pre><code>SpannableString spannableString = new SpannableString(str);
        spannableString.setSpan(new ClickableSpan() {
            public void onClick(View view) {
                // Intent intent = new Intent(ApkTest.this, Apk.class);
                Intent intent = new Intent(Intent.ACTION_CALL, Uri.parse(&quot;tel:&quot;
                        + &quot;15261589767&quot;));
                startActivity(intent);
            }
        }, 0, str.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);
        TextView.setText(spannableString);
        TextView.setMovementMethod(LinkMovementMethod.getInstance());
</code></pre><p>TextView中文字通过SpannableString来设置超链接、颜色、字体等属性</p>
<pre><code>String  title =”123456”;
SpannableString titleStr = new SpannableString(title);
titleStr.setSpan(new ForegroundColorSpan(Color.RED), 0,
                        titleStr.length(), 0);
textView.setText(titleStr);
</code></pre><h3 id="android_3AdrawableTop_u5C5E_u6027"><a href="#android_3AdrawableTop_u5C5E_u6027" class="headerlink" title="android:drawableTop属性"></a>android:drawableTop属性</h3><pre><code>写在TextView里，实现图片+文字
</code></pre><h3 id="u83B7_u53D6_u5206_u8FA8_u7387"><a href="#u83B7_u53D6_u5206_u8FA8_u7387" class="headerlink" title="获取分辨率"></a>获取分辨率</h3><pre><code>DisplayMetrics displayMetrics = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);

displayMetrics.widthPixels + &quot;x&quot;+ displayMetrics.heightPixels;
</code></pre><h3 id="u4EE3_u7801_u5B8C_u6210_u63A7_u4EF6"><a href="#u4EE3_u7801_u5B8C_u6210_u63A7_u4EF6" class="headerlink" title="代码完成控件"></a>代码完成控件</h3><p>Button</p>
<pre><code>linearLayout = (LinearLayout) findViewById(R.id.linearLayout2);
LayoutParams layoutParams = new LinearLayout.LayoutParams(0,
                LinearLayout.LayoutParams.WRAP_CONTENT, 1);//1均分属性
layoutParams.setMargins(10, 10, 10, 10);

Button button = new Button(MainActivity.this);
button.setLayoutParams(layoutParams);
linearLayout.addView(button);
</code></pre><p>TextView</p>
<pre><code>private TextView overlay;
private void initOverlay() {
        LayoutInflater inflater = LayoutInflater.from(this);
        overlay = (TextView) inflater.inflate(R.layout.overlay, null);
        overlay.setVisibility(View.INVISIBLE);
        WindowManager.LayoutParams lp = new WindowManager.LayoutParams(
                LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT,
                WindowManager.LayoutParams.TYPE_APPLICATION,
                WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE
                        | WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,
                PixelFormat.TRANSLUCENT);
        WindowManager windowManager = (WindowManager) this
                .getSystemService(Context.WINDOW_SERVICE);
        windowManager.addView(overlay, lp);
    }
</code></pre><p> xml：</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:background=&quot;#ffffff&quot;
    android:gravity=&quot;center&quot;
    android:maxWidth=&quot;80dip&quot;
    android:minWidth=&quot;80dip&quot;
    android:padding=&quot;5dip&quot;
    android:textColor=&quot;#3399ff&quot;
    android:textSize=&quot;70sp&quot; /&gt;
</code></pre><p>代码：</p>
<pre><code>private LinearLayout.LayoutParams layoutParams = null;
        private LinearLayout.LayoutParams btnParmas;

layoutParams = new LinearLayout.LayoutParams(
                            LinearLayout.LayoutParams.WRAP_CONTENT,
                            LinearLayout.LayoutParams.WRAP_CONTENT);
                    layoutParams.setMargins(
                            (int) getResources().getDimension(
                                    R.dimen.lable_left), 0, 0, 0);
                    btnParmas = new LinearLayout.LayoutParams(
                            LinearLayout.LayoutParams.WRAP_CONTENT,
                            (int) getResources().getDimension(
                                    R.dimen.lable_height));

                    for (int i = 0; i &lt; lables.length; i++) {
                        LinearLayout linearLayout = new LinearLayout(activity);
                        lableColor = random.nextInt(lableColors.length);
                        Button lable = new Button(activity);
                        lable.setText(lables[i]);
                        lable.setGravity(Gravity.CENTER_HORIZONTAL
                                | Gravity.CENTER_VERTICAL);
                        lable.setTextSize(getResources().getDimension(
                                R.dimen.lable));
                        lable.setTextColor(getResources().getColor(
                                R.color.white));
                        lable.setBackgroundResource(lableColors[i]);
                        linearLayout.addView(lable, btnParmas);
                        holder.play_lables.addView(linearLayout, layoutParams);
                    }
</code></pre><h3 id="TextWatcher"><a href="#TextWatcher" class="headerlink" title="TextWatcher"></a>TextWatcher</h3><pre><code>editText1.addTextChangedListener(watcher);
TextWatcher watcher = new TextWatcher() {
        public void onTextChanged(CharSequence arg0, int arg1, int arg2,
                int arg3) {
        }
        public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
                int arg3) {
        }
        public void afterTextChanged(Editable arg0) {            
        }
    };
</code></pre><h3 id="u5C4F_u5E55_u65CB_u8F6C_u65F6_u4E0D_u9500_u6BC1"><a href="#u5C4F_u5E55_u65CB_u8F6C_u65F6_u4E0D_u9500_u6BC1" class="headerlink" title="屏幕旋转时不销毁"></a>屏幕旋转时不销毁</h3><p>AndroidManifest加入</p>
<pre><code>android:configChanges=&quot;orientation|keyboardHidden&quot;
</code></pre><p>###获取屏幕方向</p>
<pre><code>Configuration newConfig = getResources().getConfiguration();    
        if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE){    
            //横屏    
        }else if(newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){    
            //竖屏    
        }else if(newConfig.hardKeyboardHidden == Configuration.KEYBOARDHIDDEN_NO){    
            //键盘没关闭。屏幕方向为横屏    
        }else if(newConfig.hardKeyboardHidden == Configuration.KEYBOARDHIDDEN_YES){    
            //键盘关闭。屏幕方向为竖屏    
        }
</code></pre><h3 id="List_u589E_u52A0_u6570_u636E"><a href="#List_u589E_u52A0_u6570_u636E" class="headerlink" title="List增加数据"></a>List增加数据</h3><p>简单</p>
<pre><code>private List&lt;String&gt; getData() {
        List&lt;String&gt; data = new ArrayList&lt;String&gt;();
        data.add(&quot;123&quot;);
        data.add(&quot;345&quot;);
        data.add(&quot;456&quot;);
        data.add(&quot;567&quot;);
        return data;
    }
</code></pre><p>键值对</p>
<pre><code>private List&lt;Map&lt;String, Object&gt;&gt; getData() {
        List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();

        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();
        map.put(&quot;title&quot;, &quot;G1&quot;);
        map.put(&quot;info&quot;, &quot;google 1&quot;);
        map.put(&quot;img&quot;, R.drawable.i1);
        list.add(map);

        map = new HashMap&lt;String, Object&gt;();
        map.put(&quot;title&quot;, &quot;G2&quot;);
        map.put(&quot;info&quot;, &quot;google 2&quot;);
        map.put(&quot;img&quot;, R.drawable.i2);
        list.add(map);

        map = new HashMap&lt;String, Object&gt;();
        map.put(&quot;title&quot;, &quot;G3&quot;);
        map.put(&quot;info&quot;, &quot;google 3&quot;);
        map.put(&quot;img&quot;, R.drawable.i3);
        list.add(map);

        return list;
    }
</code></pre><p>清除数据：</p>
<pre><code>data.clear();
listView.setAdapter(new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_expandable_list_item_1,getData()));
</code></pre><p>LinkedList</p>
<pre><code>LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();
list.addFirst(&quot;000&quot;);
</code></pre><h3 id="u9A8C_u8BC1_u662F_u5426_u624B_u673A_u53F7_u7801"><a href="#u9A8C_u8BC1_u662F_u5426_u624B_u673A_u53F7_u7801" class="headerlink" title="验证是否手机号码"></a>验证是否手机号码</h3><pre><code>public boolean isMobileNO(String mobiles) {
        String expression = &quot;((^(13|15|18)[0-9]{9}$)|(^0[1,2]{1}\\d{1}-?\\d{8}$)|(^0[3-9] {1}\\d{2}-?\\d{7,8}$)|(^0[1,2]{1}\\d{1}-?\\d{8}-(\\d{1,4})$)|(^0[3-9]{1}\\d{2}-? \\d{7,8}-(\\d{1,4})$))&quot;;
        Pattern pattern = Pattern.compile(expression);
        Matcher matcher = pattern.matcher(mobiles);
        Log.d(&quot;wxl&quot;, matcher.matches() + &quot;&quot;);
        return matcher.matches();
    }
</code></pre><p>正则表达式数字验证</p>
<pre><code>public boolean isNumber(String str)
    {
        java.util.regex.Pattern pattern=java.util.regex.Pattern.compile(&quot;[0-9]*&quot;);
        java.util.regex.Matcher match=pattern.matcher(str);
        if(match.matches()==false)
        {
            return false;
        }
        else
        {
            return true;
        }
    }
</code></pre><h3 id="SharedPreferences"><a href="#SharedPreferences" class="headerlink" title="SharedPreferences"></a>SharedPreferences</h3><p>SharedPreferences存数据</p>
<pre><code>SharedPreferences sharedPreferences = getSharedPreferences(&quot;test&quot;, Context.MODE_PRIVATE);
Editor editor = sharedPreferences.edit();//获取编辑器
editor.putString(&quot;name&quot;, &quot;张三&quot;);
editor.putInt(&quot;age&quot;, 24);
editor.putBoolean(&quot;AutoLogin&quot;, false);
editor.commit();//提交修改
</code></pre><p>SharedPreferences取数据</p>
<pre><code>SharedPreferences sharedPreferences = getSharedPreferences(&quot;test&quot;, Context.MODE_PRIVATE);
//getString()第二个参数为缺省值,如果preference中不存在该key,将返回缺省值
String name = sharedPreferences.getString(&quot;name&quot;, &quot;&quot;);
int age = sharedPreferences.getInt(&quot;age&quot;, 1);
boolean autoLogin= sharedPreferences. getBoolean(&quot;AutoLogin&quot;, false);
</code></pre><h3 id="Intent__u4F20_u503C"><a href="#Intent__u4F20_u503C" class="headerlink" title="Intent 传值"></a>Intent 传值</h3><p>简单传值<br>ActivityPage</p>
<pre><code>Intent intent = new Intent(ActivityPage.this, Player.class);
            //保存信息
            Bundle mBundle = new Bundle();
            mBundle.putString(&quot;realname &quot;, realname);
            intent.putExtras(mBundle);
</code></pre><p>Player接受</p>
<pre><code>realname = this.getIntent().getStringExtra(&quot;realname&quot;);
Intent intent = new Intent();
intent.setClass(HomeActivity.this, CompanyActivity.class);
intent.putExtra(&quot;mCompanySupply&quot;, mCompanySupply);
                startActivity(intent);
CompanyActivity.class:
ArrayList&lt;ClassifySub3Bean&gt;  mCompanySupply = (ArrayList&lt;ClassifySub3Bean&gt;) getIntent()
                .getSerializableExtra(&quot;mCompanySupply&quot;);
</code></pre><p>复杂传值<br>A页面：</p>
<pre><code>private static final int REQUEST_CODE_A = 0;
private static final int RESULT_CODE_B = 0;
Intent intent = new Intent();
                Bundle bundle = new Bundle();
                intent.setClass(MainActivity.this, TestBActivity.class);
                bundle.putString(&quot;msg&quot;, textView.getText().toString());
                intent.putExtras(bundle);
                startActivityForResult(intent, REQUEST_CODE_A);

protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == REQUEST_CODE_A &amp;&amp; resultCode == RESULT_OK) {
            String str=data.getExtras().getString(&quot;result&quot;);
        }
    }
</code></pre><p>B页面</p>
<pre><code>private static final int RESULT_CODE_B = 0;

Intent intent = new Intent();
                intent.putExtra(&quot;result&quot;, textView.getText().toString());
                setResult(RESULT_OK, intent);
                finish();

public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
            Intent intent = new Intent();
            intent.putExtra(&quot;result&quot;, &quot;直接返回&quot;);
            setResult(RESULT_OK, intent);
            this.finish();
            return true;
        } else {
            return super.onKeyDown(keyCode, event);
        }
    }
</code></pre><p>List</p>
<pre><code>Intent intent = new Intent();
                    intent.putStringArrayListExtra(&quot;mSelectedPhotos&quot;,
                            mSelectedPhotos);
                    setResult(RESULT_OK, intent);


                    ArrayList&lt;String&gt; mSelectedPhotos = (ArrayList&lt;String&gt;) intent
                        .getStringArrayListExtra(&quot;mSelectedPhotos&quot;);
</code></pre><h3 id="xml_u6587_u4EF6_u4E2D_u5BFC_u5165_u53E6_u4E00_u4E2Axml_u6587_u4EF6_u7684_u65B9_u6CD5include"><a href="#xml_u6587_u4EF6_u4E2D_u5BFC_u5165_u53E6_u4E00_u4E2Axml_u6587_u4EF6_u7684_u65B9_u6CD5include" class="headerlink" title="xml文件中导入另一个xml文件的方法include"></a>xml文件中导入另一个xml文件的方法include</h3><pre><code>&lt;include 
android:id=&quot;@+id/included1&quot;
layout=&quot;@layout/anotherlayout&quot; /&gt;
</code></pre><h3 id="u5355_u51FB_u8FD4_u56DE_u952E_u4E24_u6B21_u9000_u51FA"><a href="#u5355_u51FB_u8FD4_u56DE_u952E_u4E24_u6B21_u9000_u51FA" class="headerlink" title="单击返回键两次退出"></a>单击返回键两次退出</h3><pre><code>private static Boolean isExit = false;
        @Override
        public boolean onKeyDown(int keyCode, KeyEvent event) {
                if (keyCode == KeyEvent.KEYCODE_BACK) {
                        if (isExit == false) {
                                isExit = true;
                                Toast.makeText(this, &quot;再按一次退出程序&quot;, Toast.LENGTH_SHORT).show();
                                new Timer().schedule(new TimerTask() {
                                        @Override
                                        public void run() {
                                                isExit = false;
                                        }
                                }, 2000);
                        } else {
                                finish();
                                System.exit(0);
                        }
                }
                return false;
        }
</code></pre><p>或者</p>
<pre><code>@Override 
public boolean onKeyUp(int keyCode, KeyEvent event) { 
    if (keyCode == KeyEvent.KEYCODE_BACK) { 
        long secondTime = System.currentTimeMillis(); 
        if (secondTime - firstTime &gt; 800) {//如果两次按键时间间隔大于800毫秒，则不退出 
            Toast.makeText(MainActivity.this, &quot;再按一次退出程序...&quot;, 
                    Toast.LENGTH_SHORT).show(); 
            firstTime = secondTime;//更新firstTime 
            return true; 
        } else { 
            System.exit(0);//否则退出程序 
        } 
    } 
    return super.onKeyUp(keyCode, event); 
}
</code></pre><h3 id="u56FE_u7247_u5DE6_u53F3_u5FAA_u73AF_u79FB_u52A8"><a href="#u56FE_u7247_u5DE6_u53F3_u5FAA_u73AF_u79FB_u52A8" class="headerlink" title="图片左右循环移动"></a>图片左右循环移动</h3><pre><code>TranslateAnimation left, right;
right = new TranslateAnimation(Animation.RELATIVE_TO_PARENT, -1f,
                Animation.RELATIVE_TO_PARENT, -2f,
                Animation.RELATIVE_TO_PARENT, 0f, Animation.RELATIVE_TO_PARENT,
                0f);
        left = new TranslateAnimation(Animation.RELATIVE_TO_PARENT, -2f,
                Animation.RELATIVE_TO_PARENT, -1f,
                Animation.RELATIVE_TO_PARENT, 0f, Animation.RELATIVE_TO_PARENT,
                0f);
        right.setDuration(25000);
        left.setDuration(25000);
        right.setFillAfter(true);
        left.setFillAfter(true);

        right.setAnimationListener(new Animation.AnimationListener() {
            @Override
            public void onAnimationStart(Animation animation) {
            }

            @Override
            public void onAnimationRepeat(Animation animation) {
            }

            @Override
            public void onAnimationEnd(Animation animation) {
                runImage.startAnimation(left);
            }
        });
        left.setAnimationListener(new Animation.AnimationListener() {
            @Override
            public void onAnimationStart(Animation animation) {
            }

            @Override
            public void onAnimationRepeat(Animation animation) {
            }

            @Override
            public void onAnimationEnd(Animation animation) {
                runImage.startAnimation(right);
            }
        });
        runImage.startAnimation(right);
</code></pre><h3 id="u63A7_u4EF6_u5DE6_u53F3_u6296_u52A8"><a href="#u63A7_u4EF6_u5DE6_u53F3_u6296_u52A8" class="headerlink" title="控件左右抖动"></a>控件左右抖动</h3><p>res下anim<br>animlayout.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;translate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:duration=&quot;1000&quot;
    android:fromXDelta=&quot;0&quot;
    android:interpolator=&quot;@anim/cycle_7&quot;
    android:toXDelta=&quot;10&quot; /&gt;
</code></pre><p>cycle_7.xml</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;cycleInterpolator xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
android:cycles=&quot;7&quot; /&gt;
</code></pre><p>(2)java代码</p>
<p>Animation shake = AnimationUtils.loadAnimation(<br>                        MainActivity.this, R.anim.animlayout);<br>                btn.setAnimation(shake);</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/03/01/日常使用到的梯子/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          日常使用到的梯子
        
      </div>
    </a>
  
  
    <a href="/2016/02/22/Webview上传文件的那些坑/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Webview上传文件的那些坑</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>








</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 熊凯
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: undefined,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






  </div>
</body>
</html>